<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>×©××œ×” 6 - ××¨×—×§ ××—×™×¤×” - ××™×œ×•×™ ×˜×‘×œ×”</title>
<style>
  :root {
    --bg: #ffffff;
    --ink: #1a1a1a;
    --panel: #f8f9fa;
    --border: #dee2e6;
    --purple: #7c3aed;
    --purple-light: rgba(124, 58, 237, 0.1);
    --green: #22c55e;
    --orange: #f59e0b;
    --teal: #14b8a6;
    --cyan: #06b6d4;
    --red: #ef4444;
  }

  * { box-sizing: border-box; }

  html, body {
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
    font-size: 20px;
    min-height: 100vh;
  }

  .container {
    max-width: 950px;
    margin: 0 auto;
    padding: 20px;
  }

  .title {
    text-align: center;
    font-size: 28px;
    color: var(--purple);
    margin-bottom: 20px;
  }

  .exercise {
    background: var(--panel);
    border: 2px solid var(--border);
    border-radius: 16px;
    padding: 25px;
    margin-bottom: 25px;
  }

  .problem-text {
    background: white;
    border: 2px solid var(--purple);
    border-radius: 12px;
    padding: 15px 20px;
    margin-bottom: 20px;
    font-size: 18px;
    line-height: 1.6;
  }

  .problem-text strong {
    color: var(--purple);
  }

  .graph-container {
    display: flex;
    justify-content: center;
    background: white;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid var(--border);
  }

  .graph-container svg {
    max-width: 100%;
    height: auto;
  }

  .section-title {
    font-size: 22px;
    color: var(--purple);
    font-weight: bold;
    margin: 20px 0 15px 0;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--purple);
  }

  .instruction {
    font-size: 17px;
    color: #555;
    margin-bottom: 15px;
  }

  /* Table Styles */
  .data-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .data-table th, .data-table td {
    padding: 15px 20px;
    text-align: center;
    border: 2px solid var(--border);
  }

  .data-table th {
    background: var(--purple);
    color: white;
    font-size: 18px;
  }

  .data-table th:first-child {
    background: var(--teal);
  }

  .data-table tr:nth-child(even) {
    background: #f8f9fa;
  }

  .data-table .x-value {
    font-weight: bold;
    color: var(--purple);
    font-size: 20px;
  }

  .answer-input {
    width: 80px;
    padding: 10px;
    font-size: 20px;
    text-align: center;
    border: 2px solid var(--border);
    border-radius: 8px;
    background: white;
    color: var(--ink);
  }

  .answer-input:focus {
    outline: none;
    border-color: var(--cyan);
    box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
  }

  .answer-input.correct {
    border-color: var(--green);
    background: rgba(34, 197, 94, 0.15);
    color: var(--green);
    font-weight: bold;
  }

  .answer-input.wrong {
    border-color: var(--red);
    animation: shake 0.3s;
  }

  .answer-input:disabled {
    cursor: not-allowed;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  .cell-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }

  .check-btn {
    padding: 6px 14px;
    font-size: 14px;
    border: none;
    border-radius: 6px;
    background: var(--cyan);
    color: white;
    cursor: pointer;
    font-weight: bold;
  }

  .check-btn:hover {
    background: var(--teal);
  }

  .check-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  .hint-text {
    font-size: 13px;
    color: var(--orange);
    margin-top: 5px;
    min-height: 18px;
  }

  .success-icon {
    color: var(--green);
    font-size: 24px;
    display: none;
  }

  .success-icon.show {
    display: inline;
  }

  /* Progress */
  .progress-bar {
    width: 100%;
    height: 12px;
    background: #e0e0e0;
    border-radius: 6px;
    margin: 20px 0;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--green), var(--teal));
    border-radius: 6px;
    transition: width 0.5s ease;
    width: 0%;
  }

  .progress-text {
    text-align: center;
    font-size: 16px;
    color: #666;
    margin-bottom: 10px;
  }

  /* Completion */
  .completion-msg {
    text-align: center;
    padding: 25px;
    background: rgba(34, 197, 94, 0.15);
    border: 2px solid var(--green);
    border-radius: 12px;
    margin-top: 20px;
    display: none;
  }

  .completion-msg.show {
    display: block;
    animation: pop 0.5s ease;
  }

  .completion-msg h3 {
    color: var(--green);
    font-size: 26px;
    margin: 0 0 10px 0;
  }

  .completion-msg p {
    font-size: 18px;
    margin: 0;
  }

  @keyframes pop {
    0% { transform: scale(0.8); opacity: 0; }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; }
  }

  /* Confetti */
  .celebration {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1000;
  }

  .confetti {
    position: absolute;
    width: 12px; height: 12px;
    border-radius: 2px;
    animation: fall 3s ease-out forwards;
  }

  @keyframes fall {
    0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }

  /* Graph highlight */
  .highlight-point {
    fill: var(--orange);
    stroke: var(--red);
    stroke-width: 2;
    r: 8;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .highlight-point.show {
    opacity: 1;
    animation: pulse 1s ease-in-out 3;
  }

  @keyframes pulse {
    0%, 100% { r: 8; }
    50% { r: 12; }
  }

  .highlight-line {
    stroke: var(--orange);
    stroke-width: 2;
    stroke-dasharray: 5,5;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .highlight-line.show {
    opacity: 0.7;
  }
</style>
</head>
<body>

<div class="container">
  <div class="title">×©××œ×” 6 - ×§×¨×™××ª ×’×¨×£: ××¨×—×§ ××—×™×¤×”</div>

  <div class="exercise">
    <div class="problem-text">
      <strong>××©××™×ª ×™×¦××” ××—×™×¤×”. ×‘××”×œ×š ×”× ×¡×™×¢×” ×¢×¦×¨×” ×¤×¢××™×™×.</strong><br>
      ×”×’×¨×£ ×©×œ×¤× ×™×›× ××ª××¨ ××ª ×”××¨×—×§ ××—×™×¤×” ×‘×”×ª×× ×œ×–××Ÿ ×©×¢×‘×¨ ××ª×—×™×œ×ª ×”× ×¡×™×¢×”.
    </div>

    <div class="graph-container">
      <svg viewBox="0 0 600 420" width="580" height="400">
        <!-- Background -->
        <rect x="60" y="20" width="520" height="340" fill="#fafafa" stroke="#ddd"/>

        <!-- Grid lines -->
        <g stroke="#e0e0e0" stroke-width="1">
          <!-- Horizontal -->
          <line x1="60" y1="360" x2="580" y2="360"/>
          <line x1="60" y1="310" x2="580" y2="310"/>
          <line x1="60" y1="260" x2="580" y2="260"/>
          <line x1="60" y1="210" x2="580" y2="210"/>
          <line x1="60" y1="160" x2="580" y2="160"/>
          <line x1="60" y1="110" x2="580" y2="110"/>
          <line x1="60" y1="60" x2="580" y2="60"/>
          <!-- Vertical -->
          <line x1="60" y1="20" x2="60" y2="360"/>
          <line x1="134" y1="20" x2="134" y2="360"/>
          <line x1="208" y1="20" x2="208" y2="360"/>
          <line x1="282" y1="20" x2="282" y2="360"/>
          <line x1="356" y1="20" x2="356" y2="360"/>
          <line x1="430" y1="20" x2="430" y2="360"/>
          <line x1="504" y1="20" x2="504" y2="360"/>
          <line x1="578" y1="20" x2="578" y2="360"/>
        </g>

        <!-- Axes -->
        <line x1="60" y1="360" x2="580" y2="360" stroke="#333" stroke-width="2"/>
        <line x1="60" y1="20" x2="60" y2="360" stroke="#333" stroke-width="2"/>

        <!-- Y axis labels (km) -->
        <text x="50" y="365" text-anchor="end" font-size="14" fill="#333">0</text>
        <text x="50" y="315" text-anchor="end" font-size="14" fill="#333">50</text>
        <text x="50" y="265" text-anchor="end" font-size="14" fill="#333">100</text>
        <text x="50" y="215" text-anchor="end" font-size="14" fill="#333">150</text>
        <text x="50" y="165" text-anchor="end" font-size="14" fill="#333">200</text>
        <text x="50" y="115" text-anchor="end" font-size="14" fill="#333">250</text>
        <text x="25" y="200" text-anchor="middle" font-size="14" fill="#7c3aed" transform="rotate(-90, 25, 200)">××¨×—×§ ××—×™×¤×” (×§"×)</text>

        <!-- X axis labels (hours) -->
        <text x="60" y="380" text-anchor="middle" font-size="14" fill="#333">0</text>
        <text x="134" y="380" text-anchor="middle" font-size="14" fill="#333">1</text>
        <text x="208" y="380" text-anchor="middle" font-size="14" fill="#333">2</text>
        <text x="282" y="380" text-anchor="middle" font-size="14" fill="#333">3</text>
        <text x="319" y="380" text-anchor="middle" font-size="12" fill="#666">3.5</text>
        <text x="356" y="380" text-anchor="middle" font-size="14" fill="#333">4</text>
        <text x="430" y="380" text-anchor="middle" font-size="14" fill="#333">5</text>
        <text x="504" y="380" text-anchor="middle" font-size="14" fill="#333">6</text>
        <text x="578" y="380" text-anchor="middle" font-size="14" fill="#333">7</text>
        <text x="320" y="405" text-anchor="middle" font-size="14" fill="#7c3aed">×–××Ÿ (×©×¢×•×ª)</text>

        <!-- The graph line -->
        <polyline
          points="60,360 134,310 282,160 319,160 356,210 578,360"
          fill="none"
          stroke="#7c3aed"
          stroke-width="3"
          stroke-linecap="round"
          stroke-linejoin="round"/>

        <!-- Data points -->
        <circle cx="60" cy="360" r="5" fill="#7c3aed"/>
        <circle cx="134" cy="310" r="5" fill="#7c3aed"/>
        <circle cx="282" cy="160" r="5" fill="#7c3aed"/>
        <circle cx="319" cy="160" r="5" fill="#7c3aed"/>
        <circle cx="356" cy="210" r="5" fill="#7c3aed"/>
        <circle cx="578" cy="360" r="5" fill="#7c3aed"/>

        <!-- Highlight elements (hidden by default) -->
        <line class="highlight-line" id="hl-v-1" x1="134" y1="310" x2="134" y2="360"/>
        <line class="highlight-line" id="hl-h-1" x1="60" y1="310" x2="134" y2="310"/>
        <circle class="highlight-point" id="hp-1" cx="134" cy="310"/>

        <line class="highlight-line" id="hl-v-3" x1="282" y1="160" x2="282" y2="360"/>
        <line class="highlight-line" id="hl-h-3" x1="60" y1="160" x2="282" y2="160"/>
        <circle class="highlight-point" id="hp-3" cx="282" cy="160"/>

        <line class="highlight-line" id="hl-v-35" x1="319" y1="160" x2="319" y2="360"/>
        <line class="highlight-line" id="hl-h-35" x1="60" y1="160" x2="319" y2="160"/>
        <circle class="highlight-point" id="hp-35" cx="319" cy="160"/>

        <line class="highlight-line" id="hl-v-4" x1="356" y1="210" x2="356" y2="360"/>
        <line class="highlight-line" id="hl-h-4" x1="60" y1="210" x2="356" y2="210"/>
        <circle class="highlight-point" id="hp-4" cx="356" cy="210"/>

        <line class="highlight-line" id="hl-v-7" x1="578" y1="360" x2="578" y2="360"/>
        <line class="highlight-line" id="hl-h-7" x1="60" y1="360" x2="578" y2="360"/>
        <circle class="highlight-point" id="hp-7" cx="578" cy="360"/>
      </svg>
    </div>

    <div class="section-title">×. ×”×©×œ×™××• ××ª ×”×˜×‘×œ×” ×¢×œ ×¡××š ×”×’×¨×£</div>
    <div class="instruction">××¦××• ××ª ×”××¨×—×§ ××—×™×¤×” (y) ×¢×‘×•×¨ ×›×œ ×¢×¨×š ×©×œ ×–××Ÿ (x) ×‘×’×¨×£:</div>

    <table class="data-table">
      <thead>
        <tr>
          <th>×–××Ÿ (×©×¢×•×ª)</th>
          <th>x = 1</th>
          <th>x = 3</th>
          <th>x = 3.5</th>
          <th>x = 4</th>
          <th>x = 7</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="background: #e0f2f1; font-weight: bold; color: #14b8a6;">××¨×—×§ ××—×™×¤×”<br>(×§"×)</td>
          <td>
            <div class="cell-wrapper">
              <div>
                <input type="text" class="answer-input" id="ans-1" placeholder="?" maxlength="4">
                <span class="success-icon" id="ok-1">âœ“</span>
              </div>
              <button class="check-btn" id="btn-1" onclick="checkAnswer('1', 50)">×‘×“×•×§</button>
              <div class="hint-text" id="hint-1"></div>
            </div>
          </td>
          <td>
            <div class="cell-wrapper">
              <div>
                <input type="text" class="answer-input" id="ans-3" placeholder="?" maxlength="4">
                <span class="success-icon" id="ok-3">âœ“</span>
              </div>
              <button class="check-btn" id="btn-3" onclick="checkAnswer('3', 200)">×‘×“×•×§</button>
              <div class="hint-text" id="hint-3"></div>
            </div>
          </td>
          <td>
            <div class="cell-wrapper">
              <div>
                <input type="text" class="answer-input" id="ans-35" placeholder="?" maxlength="4">
                <span class="success-icon" id="ok-35">âœ“</span>
              </div>
              <button class="check-btn" id="btn-35" onclick="checkAnswer('35', 200)">×‘×“×•×§</button>
              <div class="hint-text" id="hint-35"></div>
            </div>
          </td>
          <td>
            <div class="cell-wrapper">
              <div>
                <input type="text" class="answer-input" id="ans-4" placeholder="?" maxlength="4">
                <span class="success-icon" id="ok-4">âœ“</span>
              </div>
              <button class="check-btn" id="btn-4" onclick="checkAnswer('4', 150)">×‘×“×•×§</button>
              <div class="hint-text" id="hint-4"></div>
            </div>
          </td>
          <td>
            <div class="cell-wrapper">
              <div>
                <input type="text" class="answer-input" id="ans-7" placeholder="?" maxlength="4">
                <span class="success-icon" id="ok-7">âœ“</span>
              </div>
              <button class="check-btn" id="btn-7" onclick="checkAnswer('7', 0)">×‘×“×•×§</button>
              <div class="hint-text" id="hint-7"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="progress-text">×”×ª×§×“××•×ª: <span id="progress-count">0</span>/5</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>

    <div class="completion-msg" id="completion">
      <h3>ğŸ‰ ×›×œ ×”×›×‘×•×“! ××™×œ××ª ××ª ×›×œ ×”×˜×‘×œ×” × ×›×•×Ÿ!</h3>
      <p>×”×¦×œ×—×ª ×œ×§×¨×•× ××ª ×›×œ ×”×¢×¨×›×™× ××”×’×¨×£ ×‘×¦×•×¨×” ××•×©×œ××ª!</p>
    </div>
  </div>
</div>

<div class="celebration" id="celebration"></div>

<script>
const hints = {
  '1': ['××¦× ××ª x=1 ×¢×œ ×¦×™×¨ ×”×–××Ÿ', '×¢×œ×” ×™×©×¨ ×œ××¢×œ×” ×¢×“ ×”×’×¨×£', '×§×¨× ××ª ×¢×¨×š y ×‘×¦×™×¨ ×”××¨×—×§'],
  '3': ['××¦× ××ª x=3 ×¢×œ ×¦×™×¨ ×”×–××Ÿ', '×–×• × ×§×•×“×” ×¢×œ ×”×’×¨×£ - ×¢×œ×” ×œ××¢×œ×”', '×”×’×¨×£ ××’×™×¢ ×œ×©×™× ×›××Ÿ'],
  '35': ['××¦× ××ª x=3.5 (×‘×™×Ÿ 3 ×œ-4)', '×©×™× ×œ×‘ - ×”×’×¨×£ ×©×˜×•×— ×›××Ÿ!', '×”××©××™×ª ×¢×¦×¨×” - ×”××¨×—×§ ×œ× ××©×ª× ×”'],
  '4': ['××¦× ××ª x=4 ×¢×œ ×¦×™×¨ ×”×–××Ÿ', '×”×’×¨×£ ×™×•×¨×“ ×›××Ÿ - ×”××©××™×ª ×—×•×–×¨×ª', '×§×¨× ××ª ×¢×¨×š y'],
  '7': ['××¦× ××ª x=7 ×¢×œ ×¦×™×¨ ×”×–××Ÿ', '×–×• × ×§×•×“×ª ×”×¡×™×•× ×©×œ ×”× ×¡×™×¢×”', '×”××©××™×ª ×—×–×¨×” ×œ×—×™×¤×”!']
};

let attempts = {};
let completed = 0;
const totalQuestions = 5;

function checkAnswer(id, correct) {
  const input = document.getElementById('ans-' + id);
  const btn = document.getElementById('btn-' + id);
  const hint = document.getElementById('hint-' + id);
  const ok = document.getElementById('ok-' + id);

  if (!attempts[id]) attempts[id] = 0;
  attempts[id]++;

  const value = parseInt(input.value.trim());

  // Show highlight on graph
  showHighlight(id);

  if (value === correct) {
    input.classList.remove('wrong');
    input.classList.add('correct');
    input.disabled = true;
    btn.disabled = true;
    ok.classList.add('show');
    hint.textContent = '';

    completed++;
    updateProgress();
    createConfetti();

    if (completed === totalQuestions) {
      setTimeout(() => {
        document.getElementById('completion').classList.add('show');
        createConfetti();
        setTimeout(createConfetti, 300);
        setTimeout(createConfetti, 600);
      }, 500);
    }
  } else {
    input.classList.add('wrong');
    setTimeout(() => input.classList.remove('wrong'), 300);

    const hintIndex = Math.min(attempts[id] - 1, hints[id].length - 1);
    let hintText = 'ğŸ’¡ ' + hints[id][hintIndex];

    if (attempts[id] >= 4) {
      hintText = 'ğŸ¯ ×”×ª×©×•×‘×”: ' + correct;
    }

    hint.textContent = hintText;
    input.value = '';
    input.focus();
  }
}

function showHighlight(id) {
  // Show highlight lines and point
  const hlV = document.getElementById('hl-v-' + id);
  const hlH = document.getElementById('hl-h-' + id);
  const hp = document.getElementById('hp-' + id);

  if (hlV) hlV.classList.add('show');
  if (hlH) hlH.classList.add('show');
  if (hp) hp.classList.add('show');

  // Hide after 3 seconds
  setTimeout(() => {
    if (hlV) hlV.classList.remove('show');
    if (hlH) hlH.classList.remove('show');
    if (hp) hp.classList.remove('show');
  }, 3000);
}

function updateProgress() {
  document.getElementById('progress-count').textContent = completed;
  document.getElementById('progress-fill').style.width = (completed / totalQuestions * 100) + '%';
}

function createConfetti() {
  const c = document.getElementById('celebration');
  const colors = ['#fde047', '#4ade80', '#2dd4bf', '#a3e635', '#22d3ee', '#f472b6', '#a78bfa', '#7c3aed'];
  for (let i = 0; i < 35; i++) {
    const d = document.createElement('div');
    d.className = 'confetti';
    d.style.left = Math.random() * 100 + '%';
    d.style.background = colors[Math.floor(Math.random() * colors.length)];
    d.style.animationDelay = Math.random() * 0.5 + 's';
    c.appendChild(d);
  }
  setTimeout(() => { c.innerHTML = ''; }, 3500);
}

// Enter key support
document.querySelectorAll('.answer-input').forEach(input => {
  input.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      const id = input.id.replace('ans-', '');
      const btn = document.getElementById('btn-' + id);
      if (!btn.disabled) btn.click();
    }
  });
});
</script>

</body>
</html>
